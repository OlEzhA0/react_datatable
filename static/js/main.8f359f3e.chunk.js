(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(19)},17:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(10),l=n.n(r),u=n(5),i=n(7),o=n(1),s=n(2),m=(n(17),n(3)),f=n.n(m),p=function(e){var t=e.columnConfig,n=e.selected,a=e.selectAllPhones,r=e.sortPhonesBy;return c.a.createElement("thead",null,c.a.createElement("tr",null,Object.values(t).map(function(e,t){return c.a.createElement("th",{scope:"col",key:e.title,className:f()({myTitle:0===t,isNotSelectAll:!n&&0===t,isSelectAll:n&&0===t,tHead:!0}),onClick:function(){0===t&&a(),e.sortType&&r(e.sortType,e.title)}},0===t?c.a.createElement("span",{className:"titleSelect"},e.title):e.title)})))},h=function(e){var t=e.columnConfig,n=e.items,r=e.selected,l=e.changeStatus,u=e.selectAllPhones,i=e.sortPhonesBy,o=e.editCell,m=Object.keys(t).slice(1),h=Object(a.useState)(""),b=Object(s.a)(h,2),g=b[0],d=b[1],v=Object(a.useState)(""),j=Object(s.a)(v,2),E=j[0],O=j[1],y=Object(a.useState)(""),k=Object(s.a)(y,2),N=k[0],C=k[1],P=Object(a.useState)(!1),S=Object(s.a)(P,2),w=S[0],x=S[1],A=function(e,t){if(!e||"Enter"===e.key){if(!g)return void x(!0);if("age"===t&&/\D/g.test(g))return void x(!0);T()}e&&"Escape"===e.key&&B()},T=function(){o(E,g,N),B()},B=function(){d(""),O(""),C(""),x(!1)};return c.a.createElement("table",{className:"table table-dark"},c.a.createElement(p,{columnConfig:t,selected:r,selectAllPhones:u,sortPhonesBy:i}),c.a.createElement("tbody",null,n.map(function(e){return c.a.createElement("tr",{key:e.id},c.a.createElement("th",{scope:"row"},c.a.createElement("input",{type:"checkbox",className:"custom-checkbox",checked:e.checked,onChange:function(){return l(e.id)},id:"".concat(e.id)}),c.a.createElement("label",{htmlFor:"".concat(e.id)})),m.map(function(t){return c.a.createElement("td",{className:f()({editing:E===e.id&&t===N}),onDoubleClick:function(){return function(e,t,n){O(e),C(t),d(n),x(!1)}(e.id,t,e[t])}},c.a.createElement("input",{type:"text",value:g,className:"input",onChange:function(e){d(e.target.value),e.target.value&&x(!1)},autoFocus:!0,onKeyDown:function(e){return A(e,t)},onBlur:function(){return A(null,t)}}),w&&E===e.id&&t===N&&c.a.createElement("p",{className:"error"},"Please, write correctly ",t),c.a.createElement("p",{className:f()({none:E===e.id&&t===N})},e[t]))}))})))},b=n(8),g=n.n(b),d=n(11),v=function(){var e=Object(d.a)(g.a.mark(function e(){var t,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./api/phones.json");case 2:return t=e.sent,e.next=5,t.json();case 5:return n=(n=e.sent).map(function(e){return Object(o.a)(Object(o.a)({},e),{},{checked:!1})}),e.abrupt("return",n);case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j=function(e){var t=e.perPage,n=e.changePage;return c.a.createElement("select",{className:"custom-select mySelect",value:t,onChange:n},[5,10,15,20].map(function(e){return c.a.createElement("option",{value:e,key:e},e)}))},E=function(e){var t=e.page,n=e.nearbyPage,a=e.selectPage,r=e.items,l=e.perPage,u=new Array(Math.ceil(r.length/l)).fill(0).map(function(e,t){return t+1});return c.a.createElement("nav",{"aria-label":"Page navigation example"},c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",{className:"page-item"},c.a.createElement("a",{className:"page-link",href:"/","aria-label":"Previous",onClick:function(e){return n(e,-1)}},c.a.createElement("span",{"aria-hidden":"true"},"\xab"))),u.map(function(e){return c.a.createElement("li",{className:f()({"page-item active":e===t,"page-item":e!==t}),key:e},c.a.createElement("a",{className:"page-link",href:"/",onClick:function(t){return a(t,e)}},e))}),c.a.createElement("li",{className:"page-item"},c.a.createElement("a",{className:"page-link",href:"/","aria-label":"Next",onClick:function(e){return n(e,1)}},c.a.createElement("span",{"aria-hidden":"true"},"\xbb")))))},O=function(e){switch(e){case"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435":return"name";case"\u0412\u043e\u0437\u0440\u0430\u0441\u0442":return"age";case"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435":return"snippet";default:return"age"}},y=function(e,t,n){if(!n)return t;var a,c=Object.values(e).filter(function(e){return e.isSearchable}),r=[];return c.map(function(e){return e.title}).forEach(function(e){return r.push(O(e))}),r.forEach(function(e){a=t.filter(function(t){if(t[e].toLocaleLowerCase().includes(n.toLocaleLowerCase()))return!0})}),a},k={checked:{title:"\u276f"},name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",sortType:"string",isSearchable:!0},age:{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",sortType:"number"},snippet:{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",isSearchable:!0}},N=function(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],l=Object(a.useState)(""),m=Object(s.a)(l,2),f=m[0],p=m[1],b=Object(a.useState)(5),g=Object(s.a)(b,2),d=g[0],N=g[1],C=Object(a.useState)(1),P=Object(s.a)(C,2),S=P[0],w=P[1],x=Object(a.useState)(!1),A=Object(s.a)(x,2),T=A[0],B=A[1],D=Object(a.useState)("age"),L=Object(s.a)(D,2),F=L[0],I=L[1];Object(a.useEffect)(function(){v().then(function(e){r(e)})},[]),Object(a.useEffect)(function(){var e=y(k,n,f);e.length?H(e):H([])},[n]),Object(a.useEffect)(function(){var e=n;f&&(e=y(k,n,f)),H(e)},[f]);var J=Object(a.useCallback)(function(e,t){var n;return function(){clearTimeout(n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];n=setTimeout.apply(void 0,[e,t].concat(c))}}(function(e){return M(e)},1e3),[]),M=function(e){p(e),w(1)},H=function(e){var t=n.every(function(e){return e.checked});e.length?(t=e.every(function(e){return e.checked}),B(!!t)):B(!!t)},K=y(k,n,f),W=K.slice((S-1)*d,d*S);return c.a.createElement("div",{className:"App"},c.a.createElement("input",{type:"text",className:"form-control myInput",placeholder:"Write for search",onChange:function(e){var t=e.target.value;J(t)}}),K.length>0?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"myCount"},"from"," ",(S-1)*d+1," ","to"," ",S*d>K.length?K.length:S*d," ","of"," ",K.length),c.a.createElement(h,{items:W,columnConfig:k,selected:T,changeStatus:function(e){var t=n.map(function(t){return Object(o.a)(Object(o.a)({},t),{},{checked:e===t.id?!t.checked:t.checked})});r(t)},selectAllPhones:function(){var e=y(k,n,f),t=n.map(function(t){return Object(o.a)(Object(o.a)({},t),{},{checked:e.some(function(e){return e.id===t.id})?!T:t.checked})});if(f)r(t),B(!T);else{var a=n.map(function(e){return Object(o.a)(Object(o.a)({},e),{},{checked:!T})});r(a),B(!T)}},sortPhonesBy:function(e,t){var a=O(t),c=[];return a===F?(c=Object(i.a)(n).reverse(),void r(c)):"string"===e?(c=Object(i.a)(n).sort(function(e,t){var n=e[a],c=t[a];return"string"===typeof n?n.localeCompare(c):0}),r(c),void I(a)):void("number"===e&&(c=Object(i.a)(n).sort(function(e,t){var n=e[a],c=t[a];return"number"===typeof n?n-c:0}),r(c),I(a)))},editCell:function(e,t,a){var c=n.map(function(n){return Object(o.a)(Object(o.a)({},n),{},Object(u.a)({},a,e===n.id?t:n[a]))}).map(function(e){return Object(o.a)(Object(o.a)({},e),{},{age:+e.age})});r(c),I("")}}),c.a.createElement("div",{className:"myContainer"},c.a.createElement(j,{perPage:d,changePage:function(e){var t=+e.target.value;N(t),w(1)}}),c.a.createElement(E,{perPage:d,items:K,page:S,selectPage:function(e,t){e.preventDefault(),w(t)},nearbyPage:function(e,t){e.preventDefault();var a=n;f&&(a=y(k,n,f)),S+t>Math.ceil(a.length/d)||S+t===0||w(S+t)}}))):c.a.createElement("p",{className:"myErr"},"Nothing matched the search"))};l.a.render(c.a.createElement(N,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.8f359f3e.chunk.js.map